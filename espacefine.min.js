
/**
 * Effectue un rechercher-remplacer pour ajouter des espaces fines avant les
 * signes doubles et à l'intérieur des guillemets.
 *
 * @see Basé sur un code de rechercher-remplacer par James Padolsey
 *      http://james.padolsey.com/javascript/find-and-replace-text-with-javascript/
 * @author Victor <hey@victorloux.fr>
 * @license http://www.wtfpl.net/txt/copying/ WTFPL version 2
 * @param  {node} searchNode Un élément HTML, ou une NodeList
*                            (p.ex. document.getElementsByClassName('fine'))
 * @return {void}
 */

 function espaceFine(e){var t=new RegExp(/(\u00AB|\u2014)(?:\s+)?|(?:\s+)?([\?!:;\u00BB])/g),n='<span style="font-size: 0.67em">&nbsp;</span>',r="html,head,style,title,link,meta,script,object,iframe,pre,code,textarea";if(!e)e=document.body;var i,s,o,u,a=typeof e==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&Object.prototype.hasOwnProperty.call(e,"length")&&(e.length===0||typeof e[0]==="object"&&e[0].nodeType>0),i=a?e:e.childNodes,f=i.length;while(f--){s=i[f];if(s==document.body){continue}if(s.nodeType===1&&(r+",").indexOf(s.nodeName.toLowerCase()+",")===-1){arguments.callee(s)}if(s.nodeType!==3||!t.test(s.data)){continue}o=s.parentNode;u=function(){var e=s.data.replace(t,"$1"+n+"$2"),r=document.createElement("div"),i=document.createDocumentFragment();r.innerHTML=e;while(r.firstChild){i.appendChild(r.firstChild)}return i}();o.insertBefore(u,s);o.removeChild(s)}}
 
